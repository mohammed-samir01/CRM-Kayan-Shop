# نظام إدارة العملاء والطلبات - CRM

## تسجيل الدخول

يمكنك تسجيل الدخول باستخدام البيانات التالية:

### حساب المدير (Admin)
- **البريد الإلكتروني:** admin@example.com
- **كلمة المرور:** password
- **الصلاحيات:** الوصول الكامل للمستخدمين والبيانات

### حساب الموظف (Staff)
- **البريد الإلكتروني:** staff@example.com
- **كلمة المرور:** password
- **الصلاحيات:** إضافة وتعديل العملاء والطلبات فقط

---

## كيفية الاستخدام

### إضافة عميل متوقع جديد

1. من القائمة الجانبية، اختر "العملاء المتوقعين"
2. انقر على زر "+ إضافة عميل"
3. املأ البيانات المطلوبة:
   - **اسم العميل** (مطلوب)
   - **رقم الهاتف** (مطلوب)
   - **البريد الإلكتروني** (اختياري)
   - **المدينة** (اختياري)
   - **العنوان** (اختياري)
   - **الحملة الإعلانية** (اختياري)
   - **المسؤول** (اختياري)
   - **الحالة** (مطلوب): جديد، تم التواصل، مهتم، مؤكد، تم الشحن، ملغي
   - **تاريخ المتابعة** (اختياري)
   - **ملاحظات** (اختياري)
4. انقر "حفظ"

### إضافة طلب لعميل

1. من صفحة تفاصيل العميل، انقر على زر "+ إضافة طلب"
2. املأ بيانات الطلب:
   - **طريقة الدفع**: نقدي، تحويل بنكي، أونلاين، الدفع عند الاستلام
   - **حالة الطلب**: معلق، مؤكد، تم الشحن، ملغي
3. أضف المنتجات:
   - انقر "+ إضافة منتج"
   - املأ **اسم المنتج** (مطلوب)
   - املأ **المتغير** مثل: 250غ، 500غ، 1كغ (مطلوب)
   - املأ **الكمية** (مطلوب، لا تقل عن 1)
   - املأ **السعر** (مطلوب، لا يقل عن 0)
   - سيتم حساب الإجمالي تلقائياً
4. أضف ملاحظات إذا لزم الأمر
5. انقر "حفظ الطلب"

### البحث والتصفية

#### البحث عن العملاء:
- من صفحة العملاء المتوقعين، استخدم مربع البحث للبحث بالاسم أو الهاتف أو كود العميل
- تصفية حسب: المنصة، الحالة، تاريخ البدء، تاريخ الانتهاء

#### البحث عن الطلبات:
- تصفية حسب: حالة الطلب

---

## لوحة التحكم

تعرض لوحة التحكم إحصائيات هامة:

- **عملاء اليوم**: عدد العملاء المتوقعين الذين تمت إضافتهم اليوم
- **الإيرادات (7 أيام)**: إجمالي إيرادات الطلبات خلال آخر 7 أيام
- **الإيرادات (30 يوم)**: إجمالي إيرادات الطلبات خلال آخر 30 يوم
- **الحالات**: توزيع العملاء حسب حالتهم
- **أهم المنصات**: أكثر المنصات جلبت العملاء
- **آخر العملاء المتوقعين**: قائمة بأحدث 10 عملاء

---

## إدارة الحملات الإعلانية

### إضافة حملة:
1. من القائمة الجانبية، اختر "الحملات الإعلانية"
2. انقر "+ إضافة حملة"
3. املأ البيانات:
   - **اسم الحملة** (مطلوب)
   - **المنصة**: TikTok, Facebook, Instagram, Google, Snapchat, X, YouTube, LinkedIn, أخرى
   - **نوع الإعلان**: فيديو، صورة، سلايدر، بحث، ستوري، أخرى
   - **المصدر**: نموذج، واتساب، مكالمة هاتفية، الموقع الإلكتروني، رسالة مباشرة، أخرى
   - **ملاحظات** (اختياري)

### عرض حملة:
انقر على اسم الحملة لرؤية التفاصيل وقائمة العملاء المتوقعين المرتبطين بها

---

## إدارة المستخدمين (المدير فقط)

المدير فقط يمكنه إدارة المستخدمين:

### إضافة مستخدم:
1. اختر "المستخدمين" من القائمة
2. انقر "+ إضافة مستخدم"
3. املأ البيانات:
   - **الاسم** (مطلوب)
   - **البريد الإلكتروني** (مطلوب)
   - **كلمة المرور** (مطلوب، لا تقل عن 8 أحرف)
   - **تأكيد كلمة المرور** (مطلوب)
   - **الدور**: مدير أو موظف

### تعديل مستخدم:
- انقر على زر "تعديل" بجانب المستخدم

### حذف مستخدم:
- انقر على زر "حذف" (لا يمكن حذف المستخدم الحالي)

---

## الصلاحيات

### المدير (Admin):
- إدارة المستخدمين
- إدارة الحملات الإعلانية
- إدارة العملاء المتوقعين
- إدارة الطلبات
- الوصول الكامل لجميع البيانات

### الموظف (Staff):
- إدارة الحملات الإعلانية
- إدارة العملاء المتوقعين
- إدارة الطلبات
- **لا يمكنه** إدارة المستخدمين

---

## ملاحظات هامة

1. **حساب تلقائي للإجماليات**:
   - يتم حساب إجمالي كل منتج تلقائياً: الكمية × السعر
   - يتم حساب إجمالي الطلب تلقائياً من جميع المنتجات
   - يتم حساب القيمة المتوقعة للعميل تلقائياً من جميع طلباته

2. **كود العميل**:
   - يتم إنشاء كود فريد لكل عميل تلقائياً بالتنسيق: LEAD-000001
   - يظهر الكود فور حفظ العميل

3. **حذف البيانات**:
   - عند حذف عميل، يتم حذف جميع طلباته ومنتجاته تلقائياً
   - لا يمكن حذف المستخدم الذي مسجل الدخول حالياً

4. **التحقق**:
   - جميع الحقول المطلوبة تحمل علامة *
   - يظهر خطأ أحمر عند عدم ملء البيانات بشكل صحيح
   - يجب إدخال كمية أكبر من 0
   - يجب إدخال سعر لا يقل عن 0

---

## أوامر التشغيل

```bash
# تثبيت الحزم
composer install

# تثبيت حزم الواجهة الأمامية
npm install

# بناء الواجهة الأمامية
npm run build

# تشغيل الترحيل مع البيانات التجريبية
php artisan migrate --seed

# تشغيل الخادم
php artisan serve
```

بعد التشغيل، افتح المتصفح على: http://127.0.0.1:8000
